import{a as I}from"./QGM6CHM5.js";import{G}from"./MM57Z2BS.js";import{a as N}from"./F44UP4MI.js";import{Q as y}from"./PEAOUDRP.js";import{k as S}from"./BYBP4KRV.js";import{B as P,C as _,E as O,F as V,J as B}from"./DOCIOFBQ.js";import{a as T}from"./4B6UFNBQ.js";import{M as k}from"./XZ5AIA7R.js";import{f as v}from"./GAV6HCJA.js";var R=v(T()),Y=(e,t)=>(0,R.useMemo)(()=>P(e,t),[e,t]);var se=(e,t)=>(0,R.useMemo)(()=>_(e,t),[e,t]);var A=v(T());var ae=(e=480)=>{let{theme:t,popupContainer:c}=I(),[n,p]=(0,A.useState)("xl"),[i,a]=(0,A.useState)(e);(0,A.useEffect)(()=>{let r=()=>{let l=t.breakpoints.values,u=window.innerWidth,m="xl";u<l.sm?m="xs":u<l.md?m="sm":u<l.lg?m="md":u<l.xl&&(m="lg"),p(m),a(c?.offsetWidth||e)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[t.breakpoints.values,c]);let d=(0,A.useMemo)(()=>i<=e?"xs":i<=600?"sm":i<=960?"md":i<=1280?"lg":i<=1920?"xl":"xs",[i,e]);return k()?d:n};var w=v(T());var Ee=(e,t)=>{let{intersectionConfig:c,scrollableParents:n,needCheckScrollParentsInInit:p=!0}=t??{},[i,a]=(0,w.useState)(()=>V(e,{needCheckScrollableParents:p,scrollableParents:n})),d=(0,w.useRef)(c);return d.current=c,(0,w.useEffect)(()=>{if(!e){a(!1);return}let r=new IntersectionObserver(u=>{a(u[0].isIntersecting)},d.current),l=new ResizeObserver(u=>{let{width:m,height:x}=u[0].contentRect;(m===0||x===0)&&a(!1)});return r.observe(e),l.observe(e),()=>{r.disconnect(),l.disconnect()}},[e]),i},Le=(e,t,c={})=>{let n=S(t),p=S(c);(0,w.useEffect)(()=>{let i=e?.current;if(!i)return;let a=[],d=new IntersectionObserver(r=>{r.forEach(l=>{let u=n.current(l.isIntersecting);u&&a.push(u)})},p.current);return d.observe(i),()=>{d.disconnect(),a.forEach(r=>{r()})}},[n,p,e])};var Ae=()=>{let e=N();return{isDownSm:y(e.breakpoints.down("sm"))}};var s=v(T()),Q=[e=>e===document.body,e=>!!e?.tagName.includes("MAX-AI")],q=e=>Q.some(t=>t(e)),Ie=(e,t,c=1)=>{let n=(0,s.useRef)([]),[p,i]=(0,s.useState)({x:0,y:0}),[a,d]=(0,s.useState)(!0),r=(0,s.useRef)(null),l=(0,s.useRef)(null),u=(0,s.useRef)(!1),m=(0,s.useRef)(!1),x=(0,s.useRef)(!1),[F,j]=(0,s.useState)(null),C=(0,s.useCallback)(()=>{i({x:0,y:0})},[]);return(0,s.useEffect)(()=>{let o=()=>{l.current=r.current};return document.addEventListener("keydown",o,!0),()=>{document.removeEventListener("keydown",o,!0)}},[]),(0,s.useEffect)(()=>{let o=E=>{["ArrowUp","ArrowDown","PageUp","PageDown","Space"].includes(E.code)&&(x.current=!0,l.current=r.current)},L=()=>{x.current&&(x.current=!1)};return document.addEventListener("keydown",o,!0),document.addEventListener("keyup",L,!0),()=>{document.removeEventListener("keydown",o,!0),document.removeEventListener("keyup",L,!0)}},[]),(0,s.useEffect)(()=>{let o=E=>{(E.offsetX>E.target.clientWidth||E.offsetY>E.target.clientHeight)&&(m.current=!0,l.current=r.current)},L=E=>{m.current&&(m.current=!1,u.current&&(u.current=!1))};return document.addEventListener("mousedown",o,!0),document.addEventListener("mouseup",L,!0),()=>{document.removeEventListener("mousedown",o,!0),document.removeEventListener("mouseup",L,!0)}},[]),(0,s.useEffect)(()=>{let o=null;if(q(e)&&(o=r.current),o||(o=e),j(o),!o||(n.current=O(o,c),C(),n.current.length===0))return;let L=n.current.map(f=>({top:f.scrollTop,left:f.scrollLeft})),E=()=>{u.current=!0,(m.current||x.current)&&(o=l.current);let f=O(o,c);f.length!==L.length&&(L=f.map(M=>({top:M.scrollTop,left:M.scrollLeft})),n.current=f);let z=n.current.reduce((M,b,W)=>{let H=L[W]||{top:0,left:0};return{x:M.x+(H.left-b.scrollLeft),y:M.y+(H.top-b.scrollTop)}},{x:0,y:0});i(z)};return n.current.forEach(f=>{f.addEventListener("scroll",E,!0)}),r.current=o,l.current=null,()=>{n.current.forEach(f=>{f.removeEventListener("scroll",E,!0)})}},[t,e,C,c]),{scrollState:p,resetScrollState:C,currentTarget:F,inParentScrollView:a}};var g=v(T());var h=()=>{let{popupContainer:e}=I();return e};var D=v(T());var _e=(e,t,c)=>{let n=h(),p=S(t),i=S(c);(0,D.useEffect)(()=>{if(!n)return;let a=i.current,d=r=>{p.current(r)};return n.addEventListener(e,d,a),()=>{n.removeEventListener(e,d,a)}},[e,p,i,n])};var X=v(T()),De=()=>{let e=h();return(0,X.useCallback)(()=>e?.parentNode?.nodeName==="#document-fragment"?e?.parentNode?.getSelection?.()||window.getSelection()||null:window.getSelection()||null,[e])};var U=v(T()),je=()=>{let{theme:e}=I();return(0,U.useEffect)(()=>{B.theme=e},[e]),null};export{Y as a,se as b,ae as c,Ee as d,Le as e,Ae as f,Ie as g,h,_e as i,De as j,je as k};
