import{i as $e,r as d}from"./VTGOYHJW.js";import{g as W}from"./2HIYOEPI.js";import{I as _e,Ja as b,L as be,R as P,T as O,U as Me,V as Te,W as g,X as Pe,aa as Fe,ea as Re,ha as F,ia as Ae,la as R,ma as Ne,na as Le,oa as $,qa as I,ua as H,wa as _,ya as ke}from"./VE4EMEBO.js";import{P as Ee,a as De}from"./AUJ76673.js";import{K as Oe,v as Ve}from"./DOCIOFBQ.js";import{O as ye,S as pe,l as Se,o as Ie}from"./XZ5AIA7R.js";var B=o=>o?.type==="page_content__webpage",U=o=>o?.type==="page_content__email",q=o=>o?.type==="page_content__youtube",z=o=>o?.type==="page_content__youtube_comment",A=o=>o?.type==="page_content__pdf",Y=o=>o?.type==="audio",G=o=>o?.type==="search_results",M=o=>o?.type==="chat_file",N=o=>o?.type==="chat_file_excel",X=o=>o?.type==="chat_file_docx",j=o=>o?.type==="chat_file_pptx",K=o=>o?.type==="chat_file_ebook";var Z=class{async find(e){if(Y(e.source)&&W(e.source.start_time)){let{doc_id:t,type:r,start_time:i,end_time:l}=e.source,n=await d.downloadDocument(t),a=(await d.previewDocument(t,{documentType:r,title:e.title||n.data?.doc_type_dependent_data?.title||"Audio",url:n.data?.link,viewerProps:{}},{waitToLoaded:!0})).viewerController;if(a){let c=()=>{a.setIsSegmentsMode(!0),a.setAudioTime(i,{reason:"highlight"}),a.setHighlightSegment({startTime:i,endTime:l}),a.play()};a.segmentsElement?c():a.once("onChangeSegmentsElement",c)}return!0}return!1}};var He=new Z;var We=o=>o.replace(/\s?\(.*?\)\s?/g,""),J=class{async find(e){if(!U(e.source))return!1;let t=e.source,{doc_id:r,url:i}=t;if(i&&i!==window.location.href){let s=await d.downloadDocument(r),a=await d.previewWebpage(i,{title:e.title||s.data?.doc_type_dependent_data?.title||"Title"},{waitToLoaded:!0});return a.viewerController instanceof _&&a.viewerController.iframeElement?!!await b.findIframePageCitation(null,e):!1}let n=(await Re(null)).emails.find(s=>We(s.date)===We(t.date)&&Ve(s.from,t.from));if(n?.contentElement){Fe(n.contentElement)||n.dateElement?.click();let s=[],a=be(n.contentElement);if(a.forEach(c=>{let m=c.textContent||"";s.push({text:m,parentElement:c.parentElement,textNode:c,startOffset:0,endOffset:m.length})}),a.length)return await g(s),!0}return!1}};var he=new J;var Q=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1}reset(){if(!this.viewerController?.containerElement){this.caches.clear(),this.loading=!1;return}}async highlightMatches(e){if(!e.length||!this.viewerController?.scrollElement)return;let t=this.viewerController.scrollElement,r=e[0].rowIndex,i=e[0].colIndex,l=e[0].rowIndex,n=e[0].colIndex;e.forEach(p=>{p.rowIndex<r&&(r=p.rowIndex),p.colIndex<i&&(i=p.colIndex),p.rowIndex>l&&(l=p.rowIndex),p.colIndex>n&&(n=p.colIndex)});let s=(l-r+1)*R,a=(n-i+1)*Ne,c=t.clientHeight-R,m=t.clientWidth-Le,f=this.viewerController.getRowOffsetTop(r,"start"),u=this.viewerController.getColOffsetLeft(i,"start");s<c&&(f=Math.max(f-(c-s)/2,0)),a<m&&(u=Math.max(u-(m-a)/2,0)),t.scrollTo({top:f,left:u,behavior:"smooth"}),await P(async()=>{let p=this.viewerController?.containerElement?.querySelector(e[0].parentSelector||""),x=Math.min(l,Math.ceil(f/R)+Math.ceil(c/R)),D=this.viewerController?.containerElement?.querySelector(`.maxai-document--excel-viewer-content-row--${x} .maxai-document--excel-viewer-content-col--${i}`);if(!p||!D)throw new Error("")},50,100);let y=e.map(p=>{let x=this.viewerController?.containerElement?.querySelector(p.parentSelector||"");return x&&_e(x)&&x.classList.add("maxai-reading-highlight"),x}),v=()=>{y.forEach(p=>{p&&p.classList.remove("maxai-reading-highlight")}),document.body.removeEventListener("mousedown",v)};document.body.addEventListener("mousedown",v)}async findText(e){if(this.reset(),!this.viewerController?.containerElement||!this.viewerController?.scrollList||!this.viewerController?.headers.length||(e=e.replace(/\r\n/g,`
`),e=e.replace(/\s+/g,""),e=e.replace(/"/g,""),e=e.replace(/,/g,""),!e)||this.loading)return!1;if(this.loading=!0,this.caches.get(e)){let n=this.caches.get(e);if(n.find(a=>a.parentElement&&!document.contains(a.parentElement)))this.caches.delete(e);else return await this.highlightMatches(n),this.loading=!1,!0}let t=[],r="",{headers:i,rows:l}=this.viewerController;return l.some((n,s)=>{for(let a=0;a<i.length;a++){let c=i[a],m=n[c],f=String(m);m==null&&(f="");for(let u of f)if(!(u===""||u===" "||u===`
`||u==="\r"||u==='"'||u===","))if(u===e[r.length]){if(r.length,r+=u,r.length===e.length)break}else t=[],r="";if(r.length&&t.push({text:f,textNode:null,startOffset:0,endOffset:f.length,parentSelector:`.maxai-document--excel-viewer-content-row--${s} .maxai-document--excel-viewer-content-col--${a}`,rowIndex:s,colIndex:a}),r.length===e.length)return!0}}),t.length&&(this.caches.set(e,t),await this.highlightMatches(t)),this.loading=!1,t.length>0}async findRange(e,t,r){if(this.reset(),!this.viewerController?.containerElement||!this.viewerController?.scrollList||!this.viewerController?.headers.length)return!1;this.viewerController.currentSheetName!==e&&this.viewerController.workbook&&this.viewerController.workbook.SheetNames.includes(e)&&(this.viewerController.changeSheet(e),await new Promise(n=>setTimeout(n,100)));let i=[],{rows:l}=this.viewerController;for(let n=t-1;n<=r-1;n++)l.forEach((s,a)=>{i.push({text:"",textNode:null,startOffset:0,endOffset:0,parentSelector:`.maxai-document--excel-viewer-content-row--${n} .maxai-document--excel-viewer-content-col--${a}`,rowIndex:n,colIndex:a})});return await this.highlightMatches(i),i.length>0}async find(e){if(this.reset(),M(e.source)||N(e.source)){let t=await d.downloadDocument(e.source.doc_id),r=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"Chat File",url:t.data?.s3?.doc_url,viewerProps:{fileSize:t.data?.file_size||0}},{waitToLoaded:!0});return r.viewerController instanceof $&&(this.viewerController=r.viewerController),N(e.source)&&e.source.original_row_range?this.findRange(e.source.sheet_name,e.source.original_row_range.start,e.source.original_row_range.end):this.findText(e.content)}return!1}};var ee=new Q;var te=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1}reset(){if(!this.viewerController?.containerElement){this.caches.clear(),this.loading=!1;return}}async findText(e,t){if(this.reset(),!this.viewerController?.containerElement||(e=e.replace(/\r\n/g,`
`),e=e.replace(/\s+/g,""),!e))return!1;if(this.caches.get(e)){let i=this.caches.get(e);if(i.find(n=>n.parentElement&&!document.contains(n.parentElement)))this.caches.delete(e);else return await g(i,{strictMatch:!0}),!0}if(this.loading)return!1;this.loading=!0;let r=O(this.viewerController.containerElement,e);return r.length&&(this.caches.set(e,r),await g(r,{strictMatch:!0})),this.loading=!1,r.length>0}async find(e){if(this.reset(),!M(e.source))return!1;let t=await d.downloadDocument(e.source.doc_id),r=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"Chat File",url:t.data?.s3?.doc_url,viewerProps:{fileSize:t.data?.file_size||0}},{waitToLoaded:!0});if(r.viewerController instanceof $)return ee.find(e);r.viewerController instanceof I&&(this.viewerController=r.viewerController);let i=e.source?.start_index||e.start_index;return this.findText(e.content,i)}};var Be=new te;var re=class{constructor(){this.chatFiles=new Map;this.currentFile=null;this.viewerController=new H}cacheChatFile(e,t){let r=this.chatFiles.get(e);r?this.chatFiles.set(e,{...r,...t}):this.chatFiles.set(e,t)}async init(e){}async reset(){this.currentFile=null,this.viewerController.reset()}async compressPDFFile(e,t){let{password:r,onCompress:i}=t||{},l=null,n=async()=>(typeof l=="boolean"||(i?l=await i():l=!0),l),s=400,a=!0,c=Ee.MAX_FILE_SIZE,m=await e.arrayBuffer(),f=new $e(m,{createDate:new Date(e.lastModified),modifiedDate:new Date(e.lastModified),password:r});if(await f.init(),!f.pdfDoc)throw new Error(Ie);let u=f.pdfDoc.getPageCount();if(u<=s&&e.size<c)return e;if(u>s){if(!await n())return e;await f.cropByPageCount(s)}if(!await n())return e;let y=await f.cropByFileSize(c,{removeImage:a}),v=new Blob([y],{type:e.type});return new File([v],e.name,{type:e.type,lastModified:e.lastModified})}async gotoPage(e,t="scroll-list",r="center"){this.viewerController.gotoPage(e,t,r)}};var Ue=new re;var oe=(o=null)=>{if(o){let e={parent:o,children:[],index:o.children.length};return o.children.push(e),e}return{parent:o,children:[],index:0}},ne=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1;this.pages=[];this.mark=null}reset(e){this.viewerController=e,this.mark?.remove(),this.mark=null,this.viewerController?.pdfDocument||(this.caches.clear(),this.loading=!1)}async renderPage(e){document.querySelector(`#pdf-page-${e}`)||await this.viewerController?.gotoPage(e)}async renderPages(e){for(let t of e)await this.renderPage(t)}async scrollElement(e){let t=document.querySelector(".pdf-list-scroll");if(!t||!e)return;let r=t.getBoundingClientRect(),i=e instanceof Element?e.getBoundingClientRect():e;if(i.top>r.top&&i.bottom<r.bottom)return;let n=i.top-r.top+t.scrollTop-50;t.scrollTo({top:n,behavior:"auto"})}async highlightMatches(e){if(!e)return;let t=e[0],r=e[e.length-1];return await this.renderPage(t.pageNum),await this.renderPages(Array(r.pageNum-t.pageNum+1).fill("").map((i,l)=>t.pageNum+l)),g(e,{behavior:"auto"})}async selectMatches(e){if(!e.length)return;let t=e[0],r=e[e.length-1];await this.renderPage(t.pageNum),await this.renderPages(Array(r.pageNum-t.pageNum+1).fill("").map((a,c)=>t.pageNum+c));let i=document.createRange(),l=a=>{if(a===r&&t&&a.pageNum-t.pageNum>4){let m=document.querySelector(`#pdf-page-${t.pageNum+4} .textLayer span[role="presentation"]:last-of-type`);if(m)return m}return Me(a)},n=l(t),s=l(r);if((!n||!s)&&await P(async()=>{if(n=l(t),s=l(r),!n||!s)throw new Error("")},50,100),!n||!s){let a=document.querySelectorAll(`#pdf-page-${t.pageNum} .textLayer span[role="presentation"]`);n=a[0],s=a[a.length-1]}if(n&&s){i.setStart(n.firstChild,0),i.setEnd(s.firstChild,s.lastChild?.nodeValue?.length||0);for(let c=t.pageNum;c<=r.pageNum;c++){let m=document.querySelector(`#pdf-page-${c} .react-pdf__Page__annotations`);m&&(m.style.display="none")}let a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(i),await this.scrollElement(a.getRangeAt(0).getBoundingClientRect()),await Te(n,100));for(let c=t.pageNum;c<=r.pageNum;c++){let m=document.querySelector(`#pdf-page-${c} .react-pdf__Page__annotations`);m&&(m.style.display="")}}}async findText(e,t){if(this.reset(this.viewerController),e=e.replace(/\r\n/g,`
`),e=e.replace(/\s+/g,""),!e)return!1;if(this.caches.get(e)){let a=this.caches.get(e);return await this.selectMatches(a),!0}if(this.loading||!this.viewerController?.pdfDocument)return!1;this.loading=!0;let r=Date.now(),i=this.viewerController.pdfDocument,l=i.numPages,n=[],s="";try{let a=async(u,y)=>{let v=0;for(let p=u;p<=y;p++){if(typeof this.pages[p-1]=="number"&&(v+=this.pages[p-1],typeof t=="number"&&t>v-1))continue;let D=await(await i.getPage(p)).getTextContent({includeMarkedContent:!0}),L=oe(),S=L,T=0,C=0;if(D.items.some((V,k)=>{let w=V;if(w.type==="beginMarkedContentProps"||w.type==="beginMarkedContent"){S=oe(S);return}if(w.type==="endMarkedContent"){S=S?.parent||null;return}let je=oe(S),ve=0,me=0,de=!1,E=w.str?.replace(/\s+/g,"")||"";T+=w.hasEOL?w.str.length+1:w.str.length,C=k,w.hasEOL&&w.str&&oe(S);for(let h=0;h<E.length;h++)if(E[h]===e[s.length]){if(s.length||(ve=h,me=h,de=!0),s+=E[h],s.length===e.length){me=h;break}}else s&&(de?h=ve:h--),n=[],s="",de=!1;if(s.length&&(!n.length||s.length===e.length)){let h=S,fe="";for(;h&&h!==L;)fe=` > .markedContent:nth-child(${h.index+1})`+fe,h=h.parent;let xe=`#pdf-page-${p} .textLayer${fe} > :nth-child(${je.index+1})`;n.length||n.push({pageNum:p,text:E,textNode:null,startOffset:0,endOffset:E.length,parentSelector:xe}),s.length===e.length&&n.push({pageNum:p,text:E,textNode:null,startOffset:0,endOffset:me,parentSelector:xe})}if(s.length===e.length)return!0}),T+=1,C===D.items.length-1&&(this.pages[p-1]=T),s.length===e.length)break}},m=1,f=l;for(;m<f||m===1&&f===1;){if(Date.now()-r>1e3*20&&!Se)throw new Error("PDF citation timeout");let u=Math.min(l,m+100);if(await a(m,u),m=u+1,s.length===e.length)break;for(;s.length>0&&m<u;)m=u+1,u=Math.min(l,m+1),await a(m,u);if(f=Math.max(u+1,f-100+1),u=Math.min(l,f+100),await a(f,u),s.length===e.length)break;for(;s.length>0&&f<u;)f=u+1,u=Math.min(l,f+1),await a(f,u)}n.length&&(this.caches.set(e,n),await this.selectMatches(n))}catch{}return this.loading=!1,n.length>0}async find(e){let t=ye();if(this.reset(t?Ue.viewerController:null),A(e.source)&&!t){let k=await d.downloadDocument(e.source.doc_id),w=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"PDF",url:k.data?.s3?.doc_url,viewerProps:{fileSize:k.data?.file_size||0}},{waitToLoaded:!0});w.viewerController instanceof H?this.reset(w.viewerController):this.reset(null)}if(!A(e.source)||!e.source.location)return this.findText(e.content,e.start_index);if(!this.viewerController?.pdfDocument)return!1;let{page:r,bbox:i}=e.source.location,[l,n,s,a]=i,c=r+1;await this.viewerController.gotoPage(c);let m=this.viewerController.containerElement?.querySelector("div.pdf-list-scroll");if(!m)return!1;let f=`#pdf-page-${c} .react-pdf__Page`,u=m.querySelector(f);if(u||await P(async()=>{if(u=m.querySelector(f),!u)throw new Error("")},50,100),!u||!this.viewerController.pdfDocument)return!1;let v=(await this.viewerController.pdfDocument.getPage(c)).getViewport({scale:1}),p=v.width,x=v.height,D=l/p*100,L=n/x*100,S=Math.max(100-s/p*100,0),T=Math.max(100-a/x*100,0);this.mark&&(this.mark.remove(),this.mark=null);let C=document.createElement("div");C.style.position="absolute",C.style.background="linear-gradient(0deg, rgba(215, 164, 253, 0.35), rgba(215, 164, 253, 0.35)),linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2))",C.style.boxShadow="0px 1px 2px 0px rgba(0, 0, 0, 0.04)",C.style.top=`${L}%`,C.style.left=`${D}%`,C.style.right=`${S}%`,C.style.bottom=`${T}%`,this.mark=C,u.appendChild(C);let V=()=>{this.mark&&(this.mark.remove(),this.mark=null),document.body.removeEventListener("mousedown",V)};return document.body.addEventListener("mousedown",V),this.scrollElement(C),!0}};var Ce=new ne;var ie=class{async find(e){if(!G(e.source))return!1;let{title:t,url:r}=e.source;return await d.previewWebpage(r,{title:t}),!0}};var qe=new ie;var se=class{constructor(){this.caches=new Map;this.loading=!1;this.url=""}reset(){this.url&&this.url!==window.location.href&&(this.caches.clear(),this.loading=!1,this.url=window.location.href)}async findText(e,t){if(this.reset(),e.startsWith(`${document.title}

`)&&(e=e.replace(`${document.title}

`,"")),e=e.replace(/\r\n/g,`
`),e=e.replace(/\s+/g,""),!e)return!1;if(this.caches.get(e)){let i=this.caches.get(e);if(i.find(n=>n.parentElement&&!document.contains(n.parentElement)))this.caches.delete(e);else return await g(i),!0}if(this.loading)return!1;this.loading=!0;let r=O(document.body,e);return r.length&&(this.caches.set(e,r),await g(r)),this.loading=!1,r.length>0}async find(e){if(Pe(),this.reset(),B(e.source)){let{doc_id:r,url:i}=e.source;if(i&&i!==window.location.href){let l=await d.downloadDocument(r),n=await d.previewWebpage(i,{title:e.title||l.data?.doc_type_dependent_data?.title||i},{waitToLoaded:!0});return n.viewerController instanceof _&&n.viewerController.iframeElement?!!await b.findIframePageCitation(n.viewerController.iframeElement,e):!1}}let t=e.source?.start_index||e.start_index;return this.findText(e.content,t)}};var ge=new se;var yr=o=>{if(o.includes(":"))return o;let e=Math.round(parseFloat(o)),t=Math.floor(e/3600),r=Math.floor((e-t*3600)/60),i=e-t*3600-r*60,l=t.toString().padStart(2,"0"),n=r.toString().padStart(2,"0"),s=i.toString().padStart(2,"0");return l!=="00"?`${l}:${n}:${s}`:`${n}:${s}`},ze=o=>{let e=o.split(":").map(t=>parseInt(t));if(e.length===3){let[t,r,i]=e;return t*3600+r*60+i}else if(e.length===2){let[t,r]=e;return t*60+r}return 0},Ke=o=>o.toString().padStart(2,"0"),Dr=(o=new Date)=>{let e=o.getFullYear(),t=String(o.getMonth()+1).padStart(2,"0"),r=String(o.getDate()).padStart(2,"0"),i=String(o.getHours()).padStart(2,"0"),l=String(o.getMinutes()).padStart(2,"0"),n=String(o.getSeconds()).padStart(2,"0");return`${e}${t}${r}${i}${l}${n}`};var Er=o=>{let e=Math.floor(o/60),t=Math.floor(o%60);return`${e}:${Ke(t)}`};var ae=class o{static jumpToTimestamp(e){if(e)try{let t=e.includes(":")?ze(e):parseInt(e,10),r=document.querySelector("#container .ytp-ad-text.ytp-ad-preview-text-modern");if(r&&window.getComputedStyle(r).display!=="none"){Oe.warning(De().t("client:sidebar__summary__nav__youtube_summary__transcript__current__advertising"));return}let i=10,l=document.querySelector("#container .ytp-ad-skip-button-modern.ytp-button");l&&window.getComputedStyle(l).display!=="none"&&(i=200,l.click());let n=document.querySelector("#container video");n&&(window.scrollTo({top:0,behavior:"smooth"}),typeof t=="number"&&(n.play(),setTimeout(()=>{n.currentTime=t},i)))}catch{}}async findYoutubeComment(e,t){let r=document.getElementsByTagName("ytd-comment-thread-renderer");for(let i=0;i<r.length;i++){let l=r[i],n=l.querySelector("a#author-text"),s=l.querySelector("#content-text"),a=n?.innerText||"",c=s?.innerText||"";if(a===e&&c===t){let m={text:t,textNode:null,parentElement:s,startOffset:0,endOffset:t.length};return await g([m]),!0}}return!1}async findYoutubeTranscript(e,t,r){let i=e.querySelectorAll(".maxai--youtube-viewer--transcript-content"),l=[];return i.forEach(n=>{if(!n.parentElement)return;let s=Number(n.parentElement.getAttribute("data-start"));if(s&&s>=t&&s<=r){let a=n.textContent||"";l.push({text:a,textNode:null,startOffset:0,endOffset:a.length-1,parentElement:n})}}),await g(l),l.length>0}async find(e){if(z(e.source)){let{doc_id:t}=e.source;if(F.retrieveVideoId(e.source.url)!==F.retrieveVideoId(window.location.href)){let i=pe(e.source.url,["t"]),l=await d.downloadDocument(t),n=await d.previewWebpage(i,{title:e.title||l.data?.doc_type_dependent_data?.title||i},{waitToLoaded:!0});return n.viewerController instanceof _&&n.viewerController.iframeElement?!!await b.findIframePageCitation(n.viewerController.iframeElement,{...e,source:{...e.source,url:i}}):!1}return this.findYoutubeComment(e.source.author,e.content)}if(q(e.source)&&W(e.source.start_time)){let{doc_id:t,type:r,start_time:i,end_time:l}=e.source;if(F.retrieveVideoId(e.source.url)!==F.retrieveVideoId(window.location.href)){let s=pe(e.source.url,["t"]),a=await d.downloadDocument(t),c=await d.previewDocument(t,{documentType:r,title:e.title||a.data?.doc_type_dependent_data?.title||s,url:s,viewerProps:{playerProps:{autoplay:!0,startTime:i}}},{waitToLoaded:!0});return c.viewerController instanceof ke?(c.viewerController.seekTo(i),c.viewerController.isTranscriptMode&&c.viewerController.transcriptsElement?this.findYoutubeTranscript(c.viewerController.transcriptsElement,i,l):!0):!1}return o.jumpToTimestamp(`${i}`),!0}return!1}};var we=new ae;var le=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1}reset(){if(!this.viewerController?.containerElement){this.caches.clear(),this.loading=!1;return}}async findText(e,t){return this.reset(),!0}async find(e){if(this.reset(),!X(e.source))return!1;let t=await d.downloadDocument(e.source.doc_id),r=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"Chat File Docx",url:t.data?.s3?.doc_url,viewerProps:{fileSize:t.data?.file_size||0}},{waitToLoaded:!0});r.viewerController instanceof I&&(this.viewerController=r.viewerController);let i=e.source?.start_index||e.start_index;return this.findText(e.content,i)}};var Ye=new le;var ce=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1}reset(){if(!this.viewerController?.containerElement){this.caches.clear(),this.loading=!1;return}}async findText(e,t){return this.reset(),!0}async find(e){if(this.reset(),!K(e.source))return!1;let t=await d.downloadDocument(e.source.doc_id),r=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"Chat File Ebook",url:t.data?.s3?.doc_url,viewerProps:{fileSize:t.data?.file_size||0}},{waitToLoaded:!0});r.viewerController instanceof I&&(this.viewerController=r.viewerController);let i=e.source?.start_index||e.start_index;return this.findText(e.content,i)}};var Ge=new ce;var ue=class{constructor(){this.viewerController=null;this.caches=new Map;this.loading=!1}reset(){if(!this.viewerController?.containerElement){this.caches.clear(),this.loading=!1;return}}async findText(e,t){return this.reset(),!0}async find(e){if(this.reset(),!j(e.source))return!1;let t=await d.downloadDocument(e.source.doc_id),r=await d.previewDocument(e.source.doc_id,{documentType:e.source.type,title:e.title||"Chat File PPTX",url:t.data?.s3?.doc_url,viewerProps:{fileSize:t.data?.file_size||0}},{waitToLoaded:!0});r.viewerController instanceof I&&(this.viewerController=r.viewerController);let i=e.source?.start_index||e.start_index;return this.findText(e.content,i)}};var Xe=new ue;var _o={async find(o){if(G(o.source))return qe.find(o);if(B(o.source))return ge.find(o);if(U(o.source))return he.find(o);if(q(o.source)||z(o.source))return we.find(o);if(Y(o.source))return He.find(o);if(A(o.source))return Ce.find(o);if(X(o.source))return Ye.find(o);if(j(o.source))return Xe.find(o);if(K(o.source))return Ge.find(o);if(M(o.source))return Be.find(o);if(N(o.source))return ee.find(o);switch(Ae()){case"PAGE_SUMMARY":return ge.find(o);case"YOUTUBE_VIDEO_SUMMARY":return we.find(o);case"DEFAULT_EMAIL_SUMMARY":return he.find(o);case"PDF_CRX_SUMMARY":return Ce.find(o);default:return!1}return!1}};export{yr as a,ze as b,Dr as c,Er as d,B as e,U as f,q as g,z as h,A as i,Y as j,G as k,ae as l,we as m,_o as n};
